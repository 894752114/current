<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            height: 50px;
            line-height: 50px;
        }

        .dialog {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: cadetblue;
            display: none;
        }
    </style>
</head>

<body>
    <ul>
        <li>01</li>
        <li>02</li>
        <li>03</li>
        <li>04</li>
        <li>05</li>
        <li>06</li>
        <li>07</li>
        <li>08</li>
        <li>09</li>
        <li>10</li>
        <li>11</li>
        <li>12</li>
        <li>13</li>
        <li>14</li>
        <li>15</li>
        <li>16</li>
        <li>17</li>
        <li>18</li>
        <li>19</li>
        <li>20</li>
    </ul>
    <div class="dialog">
        <span>关闭</span>
    </div>

    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
    <script>
        $("li").click(function () {
            $(".dialog").show();
            closeBodyScroll()
            document.getElementsByTagName('body')[0].addEventListener('touchmove', forbidBodyEvent);
        })
        $(".dialog span").click(function () {
            openBodyScroll();
            $(".dialog").hide();
            document.getElementsByTagName('body')[0].removeEventListener('touchmove', bodyScroll);
        })
        // console.log(document.body);
        // console.log(document.getElementsByTagName("body")[0]);
        // 打开弹窗时 禁止body滚动执行closeBodyScroll 方法 并且监听body touchmove事件 , 关闭弹窗时 取消body的禁止滚动 执行openBodyScroll方法 移除监听body touchmove事件
        // document.getElementsByTagName('body')[0].addEventListener('touchmove', forbidBodyEvent);
        // document.getElementsByTagName('body')[0].removeEventListener('touchmove', bodyScroll);

        function forbidBodyEvent(e) {
            e.preventDefault();
            e.stopPropagation();
            return false;
        }
        function closeBodyScroll() {
            var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
            document.body.setAttribute("data-top", scrollTop);
            document.body.style.overflow = "hidden";
        }
        function openBodyScroll() {
            var top = +document.body.getAttribute("data-top");
            window.scrollTo(0, top);
            document.body.style.overflow = "";

            // 如果错误的话就把下面这行去掉
            document.body.removeAttribute("data-top");
        }
    </script>
</body>

</html>